
// app.get('/listemp', function(req, res) {
    //     db.query('SELECT * FROM emp', function(err, result) {
    //         if (err) {
    //             console.error('Error querying the database:', err);
    //             return;
    //         }
    
    //         console.log('Result from the database:', result); // Add this line to log the result
    
    //         res.render('listemp', { result: result });
    //     });
    // });
    
    
    
    // app.get('/addemp',function(req,res){
    //     db.query("select * from dept",function(err,result){
    //         res.render('addemp',{result:result});
    //     })
    // });
    
    
    // app.post('/addemp_submit', function(req, res) {
    //     let { ename, add1, add2, dob, salary, deptid } = req.body;
    //     let cdate = new Date();
    //     let month = cdate.getMonth() + 1;
    //     let doj = cdate.getFullYear() + "-" + month + "-" + cdate.getDate();
    //     let sql = "INSERT INTO emp (ename, add1, add2, dob, doj, salary, deptid) VALUES ('" + ename + "','" + add1 + "','" + add2 + "','" + dob + "','" + doj + "','" + salary + "','" + deptid + "')";
    
    //     db.query(sql, function(err, result) {
    //         if (result.insertId > 0) {
    //             res.redirect('/listemp');
    //         }
    //     });
    // });
    
    
    
    // app.get('/editemp',function(req,res){
    //     let empid = req.query();
    //     db.query("select * from emp where empid="+empid,function(err,empdata){
    //         db.query("select * from emp data",function(err,deptdata){
    //             res.render('editemp',{editemp:editemp,deptdata:deptdata})
    //         })
    //     })
    // })
    
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="/addemp_submit" method="post">
        <table>
            <tr>
                <td>Employee Name</td>
                <td><input type="text" name="ename" value="<%= result.ename %>"></td>
            </tr>

            <tr>
                <td>Address 1</td>
                <td><input type="text" name="add1" value="<%= result.add1 %>"></td>
            </tr>

            <tr>
                <td>Address 2</td>
                <td><input type="text" name="add2" value="<%= result.add2 %>"></td>
            </tr>

            <tr>
                <td>DOB</td>
                <td><input type="date" name="dob" value="<%= result.dob %>"></td>
            </tr>

            <tr>
                <td>DOJ</td>
                <td><input type="date" name="doj" value="<%= result.doj %>"></td>
            </tr>

            <tr>
                <td>Salary</td>
                <td><input type="number" name="salary" value="<%= result.salary %>"></td>
            </tr>

            <tr>
                <td>Department</td>
                <td>
                    <select name="deptid">
                        <% for(let i = 0; i < result.length; i++){ %>
                            <option value="<%= result[i].deptid %>"><%= result[i].dname %></option>
                        <% } %>
                    </select>
                </td>
            </tr>

            <tr>
                <td><input type="submit" value="Submit" /></td>
            </tr>
        </table>
    </form>
</body>
</html>
